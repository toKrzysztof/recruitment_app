<p-table
  [value]="contacts()"
  [lazy]="true"
  [paginator]="true"
  [rows]="pageSize"
  [totalRecords]="totalContacts"
  [rowsPerPageOptions]="[10, 20]"
  (onLazyLoad)="loadContacts($event)"
  [loading]="loading"
  [sortMode]="'single'"
  stripedRows
  [scrollable]="true"
>
  <ng-template #caption>
    <div class="table-caption">
      <h1 class="text-xl font-bold">Contacts</h1>
    </div>
  </ng-template>
  <ng-template #header>
    <tr>
      <th pSortableColumn="firstname">First Name</th>
      <th pSortableColumn="lastname">Last Name</th>
      <th pSortableColumn="email">Email</th>
      <th pSortableColumn="category">Category</th>
      <th pSortableColumn="subcategory">Subcategory</th>
      <th>Action</th>
    </tr>
  </ng-template>
  <ng-template #body let-contact>
    <tr>
      <td>{{ contact.firstName }}</td>
      <td>{{ contact.lastName }}</td>
      <td>{{ contact.email }}</td>
      <td>{{ contact.category.name }}</td>
      <td>{{ contact.subcategory.name }}</td>
      <td><a [href]="'/contacts/' + contact.id">View details</a></td>
    </tr>
  </ng-template>
  <ng-template #emptymessage>
    <tr class="flex">
      <td colspan="7"><div class="no-contacts-message">No contacts found.</div></td>
    </tr>
  </ng-template>
</p-table>
